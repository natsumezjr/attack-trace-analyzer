# 靶场交付说明

本文面向组内同学与验收人员，给出靶场登录方式、逻辑拓扑、服务端口与数据目录位置。本文只描述如何连接与如何使用，不讨论实现细节。

## 1. 登录服务器

- 服务器 IP：`10.92.35.13`
- 登录命令：

```bash
ssh ubuntu@10.92.35.13
```

登录凭据通过线下渠道分发，仓库内不保存明文口令。

## 2. 靶场逻辑拓扑

靶场在单机条件下提供 **6 个逻辑节点**：

- `center-01`：中心机（OpenSearch + Neo4j + 后端 API + 前端）
- `client-01..04`：4 套客户机实例（Falco / Filebeat / Suricata → RabbitMQ → Client API）
- `c2-01`：C2（DNS + HTTP，用于产生稳定网络证据）

## 3. 服务与端口

### 3.1 center-01

- OpenSearch：`https://10.92.35.13:9200`
- OpenSearch perf：`10.92.35.13:9600`
- Neo4j Browser：`http://10.92.35.13:7474`
- Neo4j Bolt：`10.92.35.13:7687`
- 后端：`http://10.92.35.13:8000`
- 前端：`http://10.92.35.13:3000`

### 3.2 client-01..04

每个 client 对外提供 3 个接口（返回已消费到的数据，便于验收）：

- `GET /filebeat`
- `GET /falco`
- `GET /suricata`

端口规划固定为：

- client-01：`http://10.92.35.13:18881/*`
- client-02：`http://10.92.35.13:18882/*`
- client-03：`http://10.92.35.13:18883/*`
- client-04：`http://10.92.35.13:18884/*`

### 3.3 c2-01

- DNS：`10.92.35.50:53/udp`、`10.92.35.50:53/tcp`
- HTTP：`http://10.92.35.51:80`
- 域名：`c2.lab.local -> 10.92.35.51`

## 4. 目录与数据位置

靶场宿主机的根目录固定为：

- `BASE=/home/ubuntu/attack-trace-analyzer`

目录结构固定为：

- 代码：`$BASE/repo/attack-trace-analyzer/`
- 运行目录：`$BASE/run/`
  - `client-01..04/`：每个客户机实例一个目录
  - `c2/`：C2 配置与静态内容

## 5. 常用操作入口

- 启停顺序与命令：`92-一键编排.md`
- 验收命令与通过标准：`94-验证清单.md`
- 演示前重置与排障：`95-重置复现与排障.md`
